<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>勘誤公告</title>
  <link rel="stylesheet" href="./styles.css"/>
  <script defer src="./data.js"></script>
  <script defer>
    // 小工具
    const $ = (sel, el=document) => el.querySelector(sel);
    const el = (tag, cls, html) => {
      const n = document.createElement(tag);
      if (cls) n.className = cls;
      if (html != null) n.innerHTML = html;
      return n;
    };

    document.addEventListener('DOMContentLoaded', () => {
      const root = $('#root');

      ERRATA_SECTIONS.forEach((sec, i) => {
        const card = el('section', 'sec');
        // 標題（第一行）
        const head = el('button', 'sec-head', `
          <h2 class="sec-title">${sec.title}</h2>
          <span class="caret">▾</span>
        `);
        head.setAttribute('aria-expanded', 'false');

        // 內容（其餘行，允許 HTML 連結）
        const body = el('div', 'sec-body');
        body.innerHTML = sec.html;

        head.addEventListener('click', () => {
          const open = card.classList.toggle('open');
          head.setAttribute('aria-expanded', String(open));
        });

        card.appendChild(head);
        card.appendChild(body);
        root.appendChild(card);
      });
    });
  </script>
</head>
<body>
  <main class="wrap">
    <header class="page-head">
      <h1>勘誤網站</h1>
      <p class="muted">這裡會公告目前已知問題與修正說明。</p>
    </header>

    <div id="root" class="stack"></div>
  </main>
</body>
</html>
