:root{
  --bg:#f6f6f4; --card:#ffffff; --text:#1f2937; --muted:#6b7280;
  --brand1:#1f5df5; --brand2:#c43dd9;
  --danger:#ef4444; --field:#fff; --field-border:#d1d5db; --field-error:#fde2e2;
  --ending-bg:#eef9f1;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--text);
  font-family:"Noto Sans TC","PingFang TC","Microsoft JhengHei",system-ui,-apple-system,"Segoe UI",Roboto,sans-serif;
}

.appbar{background:linear-gradient(90deg,var(--brand1),var(--brand2)); color:#fff; padding:16px 20px; position:sticky; top:0; z-index:10;}
.appbar h1{margin:0; font-size:20px; font-weight:700;}
.container{max-width:780px; margin:0 auto; padding:20px 16px 48px;}
.container.narrow{max-width:700px;}

.centered{display:grid; place-items:center;}
.card{background:var(--card); border-radius:14px; padding:28px; box-shadow:0 8px 28px rgba(0,0,0,.08);}
.gate{width:min(92vw,520px); text-align:center;}
.gate h1{margin:0 0 20px; font-size:28px;}

.vstack{display:flex; flex-direction:column;}
.gap-12{gap:12px}.gap-16{gap:16px}
.mt-8{margin-top:8px}
.btn{appearance:none; border:0; border-radius:10px; padding:10px 16px; background:#e5e7eb; cursor:pointer;}
.btn:hover{filter:brightness(0.97)}
.btn.primary{background:#4f46e5; color:#fff}
.btn.wide{display:block; width:100%; text-align:center; margin-top:12px}

.field{padding:8px 10px; background:var(--field); border:1px solid var(--field-border); border-radius:10px; font-size:16px; width:100%; text-align: center;}
.error-text{color:var(--danger); font-weight:700;}
.error-field{background:var(--field-error) !important}
select.error-field option,
select.error-field optgroup {
  background-color: #fff !important;
  color: inherit;
}

.block{background:var(--card); border:1px solid #e5e7eb; border-radius:12px; padding:16px;}
.narrative-text p{margin:10px 8px; line-height:1.7;}
.ending{background:var(--ending-bg)}
.ending-text p{margin:10px 8px; line-height:1.7; font-weight:700;}

.answer .line{
  display:flex;
  flex-wrap:wrap;
  align-items:center;
  gap:8px;
  padding:6px 2px;
}
.inline-field{display:inline-flex; align-items:center}
.field.inline{width:auto; min-width:7ch; max-width:18ch; padding:6px 8px; text-align: center;}  /* ←「短而夠用」 */
.field.inline.wide{ min-width:30ch; max-width:200ch; text-align: left;}
.selectlike{appearance:none; background-image:linear-gradient(45deg,transparent 50%,#9aa0a6 50%),linear-gradient(135deg,#9aa0a6 50%,transparent 50%);
background-position:calc(100% - 14px) calc(1em + 1px), calc(100% - 8px) calc(1em + 1px);
background-size:6px 6px,6px 6px; background-repeat:no-repeat;}
/* 錯誤敘述也用敘事框樣式，但文字顏色偏危險色 */
.narrative.error .narrative-text{color:var(--danger);}
.field::placeholder { text-align: center; }
select.field { 
  text-align-last: center;       /* Chrome/Edge/Firefox */
}
select.field option {
  text-align: center;            /* 下拉清單中的選項 */
}